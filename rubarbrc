# vim: set ft=ruby:

run :counter do 
  @respawn = 1
  @color = 'red'
  #@format = -> (txt) { txt*2 }
end 

run :clock do
  @respawn = 20
end

run :script do 
  @exec = 'date ; sleep 2 ; date'
  @respawn = 30
end

# is this syntax nicer?
# can this work if Clcok is really Rubarb::Plugins::Clock?
#run Clock do
#end

#run :date, 59

#run :mem, {respawn: 60}


# class that extends RubarbPlugin and has a run() method can be called to save on forking.
#plugin :clock do 
  # what the ehll options tdo  Ihgive a clock?
#end
# override the name, format functions

# as long as we're spawning all these scripts might as well manage the bar itself too
bar "dzen2 -l -xs 0"

template do 
  "#{clock} - #{counter} :: #{script}"
end
